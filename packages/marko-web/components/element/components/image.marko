import { getAsArray } from "@parameter1/base-cms-object-path";

$ const { config } = out.global;
$ const { src, alt } = input;
$ const lazyload = config.lazyloadImages() && input.lazyload !== false
$ const srcset = getAsArray(input.srcset).join(",") || null;

$ const classNames = [input.class];
$ const loading = (lazyload) ? "lazy" : null;

<img
  ...input.attrs
  src=src
  srcset=srcset
  class=classNames
  alt=alt
  loading=loading
/>
