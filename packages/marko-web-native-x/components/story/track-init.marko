import { get, getAsObject } from "@parameter1/base-cms-object-path";

$ const { req } = out.global;
$ const story = getAsObject(input, "story");

<marko-web-gtm-push name="dataLayerNativeX" data={
  story_id: story.id,
  page_path: req.path,
  page_title: story.title,
  publisher_id: get(story, "publisher.id"),
  advertiser_id: get(story, "advertiser.id"),
  preview_mode: Boolean(req.query.preview),
} />
